/** sha of a commit */
export type Commit = string;
/** name of a tag */
export type Tag = string;
/** name of a branch */
export type Branch = string;
/** anything that can be checked-out (commit, tag, branch, 'HEAD') */
export type Ref = Commit|Tag|Branch|'HEAD';
/** path to a file */
export type Path = string;
/** an object describing a file */
export type File = {
  path: Path;
  content: Buffer;
	permissions: string;
};
/** all commands that `git.branch` accepts */
export type BranchCommands = 'LIST'|'CREATE'|'DELETE'|'MOVE';
/** all commands that `git.tag` accepts */
export type TagCommands = 'LIST'|'CREATE'|'DELETE';

export type GitHubAuth =
		{ type: 'basic', username: string, password: string }
	| { type: 'oauth', key: string, secret: string }
	| { type: 'oauth', token: string };

export type GitHubOptions = {
	owner: string;
	repo: string;
	auth?: GitHubAuth;
	client?: GitHub;
	debug?: boolean;
	protocol?: 'https'|'http'|string;
	host?: string;
	pathPrefix?: string;
	headers?: { [key: string]: string };
	Promise?: typeof Promise;
	followRedirects?: boolean;
	timeout?: number;
};

export type GitIndex = {
	files: Array<File>;
};

export type GitState = {
	owner: string;
	repo: string;
	HEAD: Promise<string|'DETACHED'>;
	index: GitIndex;
};

export type Context = {
	client: GitHub;
	state: GitState;
};
